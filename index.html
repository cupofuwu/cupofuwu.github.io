<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CupOfUwU</title>
    <!-- SEO and Social Sharing -->
    <meta name="description" content="CupOfUwU, artist and animator">
    <meta property="og:title" content="CupOfUwU">
    <meta property="og:image" content="./icons/profile_icon.jpg">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="icon" type="image/png" href="./icons/favicon.png"/>
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Fredoka+One&family=Caveat&family=Inter:wght@400&display=swap">
    <style>
        :root {
            --primary-color: #FF66CC; /* Vibrant pink */
            --accent-color: #66CCFF; /* Bright blue */
            --bg-color: linear-gradient(135deg, #1A1A1A 0%, #2A1A2A 50%, #1A2A3A 100%); /* Dark gradient */
            --text-color: #FFFFFF;
            --secondary-text: #E5E7EB;
            --card-bg: #2A2A2ACC;
            --shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
            --border-radius: 1.5rem;
            --transition: all 0.3s ease;
            --glow-color: #FF99EE; /* Softer pink for glow effects */
            --highlight-color: #99FFCC; /* Bright teal for highlights */
            --dark-accent: #1E1E2F; /* Deeper background for cards */
			--simple-shadow-color: #3b006e;
			--zoom-compensation: 1; /* будет обновляться JS */
			--header-offset: calc(-25% - max(0px, (100vh - 840px) * 0.9));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: clamp(14px, 2.5vw, 16px);
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            font-family: 'Quicksand', sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Parallax Background Container */
        .parallax-background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            perspective: 1000px;
            z-index: -10;
            overflow: hidden;
        }

        /* Static Background */
        .parallax-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('./images/background.png') center/cover no-repeat; /* Replace with your background image */
            transform: translateZ(0px);
            z-index: -2;
            opacity: 1; /* Adjust for visibility */
        }

        /* Parallax Layers */
        .parallax-layer {
            position: absolute;
            top: calc(var(--header-offset) * var(--zoom-compensation));
            left: -40%;
            width: 180%;
            height: 180%;
			
            background-size: contain;
            background-position: center;
            transition: transform 0.1s ease-out;
        }

        /* Midground Layer */
        .parallax-midground {
            background: url('./images/midground.png') center/contain no-repeat; /* Replace with your midground image */
            transform: translateZ(0px);
            z-index: -1;
            opacity: 1.0; /* Adjust for layering */
        }

        /* Foreground Layer */
        .parallax-foreground {
            background: url('./images/foreground.png') center/contain no-repeat; /* Replace with your foreground image */
            transform: translateZ(0px);
            z-index: 0;
            opacity: 1.0; /* Adjust for layering */
        }

        .container {
            max-width: 1200px;
            width: 100%;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 4rem;
            position: relative;
            z-index: 1; /* Ensure content is above parallax layers */
        }

        /* Top Navigation (non-sticky) */
        .top-nav {
            padding: 1rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }

        .top-nav a {
            color: var(--text-color);
            text-decoration: none;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        .top-nav a:hover {
            color: var(--primary-color);
        }

        /* Header Section */
        .header {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .profile-img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            transition: var(--transition);
            position: relative;
            cursor: pointer;
        }

        .profile-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .profile-img:hover img {
            transform: scale(1.1);
        }

        .header h1 {
            font-family: 'Fredoka One', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            text-shadow: 0 0 8px var(--primary-color);
        }

        .no-preview {
            width: 100%;
            height: 150px;
            background: #FFFFFF;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: #333333;
            text-align: center;
            transition: var(--transition);
        }

        .commissions-status {
            font-family: 'Caveat', cursive;
            font-size: 2.2rem;
            color: #FF4D4D;
            letter-spacing: 0.05rem;
			text-shadow: 1px 1px var(--simple-shadow-color);
        }

        .commissions {
            display: flex;
            flex-direction: column;
            gap: 3rem;
            text-align: center;
            padding: 4rem 0;
            position: relative;
            isolation: isolate;
        }

        .commissions h2 {
            font-family: 'Fredoka One', sans-serif;
            font-size: clamp(2rem, 6vw, 2.5rem);
            color: var(--text-color);
            text-shadow: 0 0 12px var(--primary-color), 0 0 20px var(--accent-color);
            letter-spacing: 0.06rem;
        }

        .commission-status {
            font-family: 'Caveat', cursive;
            font-size: clamp(1.4rem, 5vw, 1.8rem);
            color: #FF4D4D;
            text-shadow: 0 0 8px rgba(255, 77, 77, 0.6);
            background: rgba(255, 77, 77, 0.1);
            padding: 0.5rem 1.5rem;
            border-radius: 0.8rem;
            display: inline-block;
        }

        .pricing-table {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            padding: 1.5rem;
        }

        .pricing-card {
            background: linear-gradient(135deg, rgba(30, 30, 47, 0.95), rgba(50, 50, 70, 0.95));
            border-radius: var(--border-radius);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.7), 0 0 20px var(--glow-color);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--glow-color);
            background-clip: padding-box;
        }

        .pricing-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--glow-color) 10%, transparent 50%);
            opacity: 0.25;
            z-index: 0;
        }

        .pricing-card > * {
            position: relative;
            z-index: 1;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card-header h3 {
            font-family: 'Quicksand', sans-serif;
            font-size: clamp(1.3rem, 4vw, 1.6rem);
            font-weight: 700;
            color: var(--text-color);
            letter-spacing: 0.03rem;
            text-transform: uppercase;
        }

        .card-header .price {
            font-family: 'Fredoka One', sans-serif;
            font-size: clamp(1.6rem, 5vw, 2rem);
            color: var(--text-color);
            text-shadow: 0 0 12px var(--primary-color), 0 0 20px var(--accent-color);
        }

        .card-body {
            padding: 2rem 0;
        }

        .details {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            color: var(--secondary-text);
            margin-bottom: 2rem;
        }

        .details p {
            margin-bottom: 0.8rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.5rem;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .details p:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
        }

        .details p strong {
            color: var(--highlight-color);
            font-weight: 600;
        }

        .yes-no-lists {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
        }

        .yes-list, .no-list {
            text-align: center;
            padding: 1rem;
            border-radius: 0.8rem;
            transition: background 0.3s ease;
        }

        .yes-list {
            background: linear-gradient(135deg, rgba(102, 204, 255, 0.1), rgba(153, 255, 204, 0.1));
        }

        .no-list {
            background: linear-gradient(135deg, rgba(255, 77, 77, 0.1), rgba(255, 153, 153, 0.1));
        }

        .yes-list:hover, .no-list:hover {
            background: linear-gradient(135deg, rgba(102, 204, 255, 0.2), rgba(153, 255, 204, 0.2));
        }

        .no-list:hover {
            background: linear-gradient(135deg, rgba(255, 77, 77, 0.2), rgba(255, 153, 153, 0.2));
        }

        .yes-list h4, .no-list h4 {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.06rem;
            text-shadow: 0 0 6px var(--glow-color);
        }

        .yes-list p, .no-list p {
            margin-bottom: 0.6rem;
            color: var(--secondary-text);
            transition: color 0.3s ease;
        }

        .yes-list p:hover, .no-list p:hover {
            color: var(--text-color);
        }

        /* Animations */
        @keyframes pulse-text {
            0%, 100% { text-shadow: 0 0 12px var(--primary-color), 0 0 20px var(--accent-color); }
            50% { text-shadow: 0 0 18px var(--primary-color), 0 0 30px var(--accent-color); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .commissions {
                padding: 2.5rem 0;
            }

            .pricing-table {
                grid-template-columns: 1fr;
                padding: 1rem;
            }

            .pricing-card {
                padding: 2rem;
            }

            .yes-no-lists {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .card-header h3 {
                font-size: 1.3rem;
            }

            .card-header .price {
                font-size: 1.6rem;
            }
        }

        @media (max-width: 480px) {
            .commissions h2 {
                font-size: 1.8rem;
            }

            .commission-status {
                font-size: 1.4rem;
            }

            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.8rem;
            }

            .details p {
                font-size: 0.9rem;
            }

            .yes-list p, .no-list p {
                font-size: 0.85rem;
            }
        }

        /* Social Links */
        .social-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            align-items: center;
        }

        .social-links a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: var(--card-bg);
            color: var(--text-color);
            text-decoration: none;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .social-links a img {
            width: 24px;
            height: 24px;
        }

        .social-links a:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 0 12px var(--primary-color);
        }

        .discord-text {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: var(--card-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .discord-text:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 0 12px var(--primary-color);
        }

        .x-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: var(--card-bg);
            color: var(--text-color);
            text-decoration: none;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .x-button img {
            width: 24px;
            height: 24px;
        }

        .x-button:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 0 12px var(--primary-color);
        }

        /* To-Do and Projects Sections */
        .todo, .projects {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .todo h2, .projects h2 {
            font-family: 'Fredoka One', sans-serif;
            font-size: 2rem;
            text-shadow: 0 0 8px var(--accent-color);
            text-align: center;
        }

        .filter-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .filter-buttons button {
            padding: 0.5rem 1rem;
            background: var(--card-bg);
            color: var(--text-color);
            border: none;
            border-radius: var(--border-radius);
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-buttons button:hover,
        .filter-buttons button.active {
            background: var(--primary-color);
            transform: translateY(-2px);
        }

        .item-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .item {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            text-decoration: none;
            color: var(--text-color);
            display: block;
        }

        .item:hover {
            transform: translateY(-4px);
            box-shadow: 0 0 12px var(--primary-color);
        }

        .item.current {
            border: 2px solid #00FF00;
        }

        .item.current::before {
            content: 'Working on it right now';
            position: absolute;
            top: -0.75rem;
            left: 1rem;
            background: var(--primary-color);
            color: var(--text-color);
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
        }

        .item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 0.5rem;
            transition: var(--transition);
        }

        .item:hover img {
            transform: scale(1.05);
        }

        .item-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .item small {
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            color: var(--secondary-text);
            display: block;
            margin-top: 0.5rem;
        }

        .progress-bar {
            height: 20px;
            background: #333;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
            position: relative;
        }

        .progress-bar span {
            display: block;
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            transition: width 0.5s ease;
        }

        .progress-bar::after {
            content: attr(data-percentage) '%';
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            color: var(--text-color);
            text-shadow: 0 0 4px var(--glow-color);
            z-index: 1;
        }

        /* Contact Section */
        .contact {
            display: flex;
            flex-direction: column;
            gap: 0rem;
            text-align: center;
        }

        .contact h2 {
            font-family: 'Fredoka One', sans-serif;
            font-size: 2rem;
            text-shadow: 0 0 8px var(--accent-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem 0.75rem;
            }

            .profile-img {
                width: 100px;
                height: 100px;
            }

            .header h1 {
                font-size: 2.5rem;
            }

            .social-links a,
            .discord-text,
            .x-button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .social-links a img,
            .x-button img {
                width: 20px;
                height: 20px;
            }

            .todo h2,
            .projects h2,
            .commissions h2,
            .contact h2 {
                font-size: 1.8rem;
            }

            .top-nav {
                flex-direction: column;
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 2rem;
            }

            .commission-status {
                font-size: 1.2rem;
            }

            .item-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Permission Button Style */
        .orientation-permission {
            margin: 1rem auto;
            padding: 0.5rem 1rem;
            background: var(--primary-color);
            color: var(--text-color);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            position: relative;
            z-index: 1;
        }

        .orientation-permission:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- Parallax Background Container -->
    <div class="parallax-background-container">
        <div class="parallax-background"></div>
        <div class="parallax-layer parallax-midground"></div>
        <div class="parallax-layer parallax-foreground"></div>
    </div>

    <div class="container">
        <!-- Top Navigation (non-sticky) -->
        <nav class="top-nav">
            <a href="#todo">TO-DO list for projects</a>
            <a href="#projects">Projects</a>
            <a href="#commissions">Commissions</a>
            <a href="#contact">Contact</a>
        </nav>

        <!-- Header Section -->
        <header class="header" id="home">
            <div class="profile-img" aria-label="CupOfUwU's fursona">
                <img src="./icons/profile_icon.jpg" alt="CupOfUwU's fursona, a pink cat with blue eyes" loading="lazy">
            </div>
            <h1>CupOfUwU</h1>
            <p class="commissions-status">Commissions Closed</p>
            <button class="orientation-permission" style="display: none;">Enable Motion</button>
        </header>

        <!-- Social Links -->
        <nav class="social-links">
            <a href="https://www.patreon.com/c/cupofuwu" aria-label="Patreon">
                <img src="icons/patreon.png" alt="Patreon icon" loading="lazy"> Patreon
            </a>
            <a href="https://x.com/CupOfUwU1" aria-label="X">
                <img src="icons/x.png" alt="X icon" loading="lazy"> X
            </a>
            <a href="https://bsky.app/profile/cupofuwu.bsky.social" aria-label="Bluesky">
                <img src="icons/bluesky.png" alt="Bluesky icon" loading="lazy"> Bluesky
            </a>
            <a href="https://cupofuwu.newgrounds.com" aria-label="Newgrounds">
                <img src="icons/newgrounds.png" alt="Newgrounds icon" loading="lazy"> Newgrounds
            </a>
            <a href="https://www.furaffinity.net/user/cupofuwu" aria-label="FurAffinity">
                <img src="icons/furaffinity.png" alt="FurAffinity icon" loading="lazy"> FurAffinity
            </a>
        </nav>

        <!-- To-Do List Section -->
        <section class="todo" id="todo">
            <h2>TO-DO list for projects</h2>
            <!--
            <div class="filter-buttons" data-section="todo">
                <button data-filter="all" class="active">All</button>
                <button data-filter="recent">Recent</button>
                <button data-filter="current">Current</button>
                <button data-filter="upcoming">Upcoming</button>
            </div>
            -->
            <div class="item-grid" id="tasks"></div>
        </section>

        <!-- Projects Section -->
        <section class="projects" id="projects">
            <h2>Projects</h2>
            <div class="item-grid" id="projects-grid"></div>
        </section>

        <!-- Commissions Section -->
		<section class="commissions" id="commissions">
			<h2>Commission Info</h2>
			<div class="commission-status">
				<p class="commissions-status">Commissions Closed</p>
				<p class="commissions-status">But I can offer a slot, with a longer commission completion time</p>
			</div>
			
			<div class="pricing-table">
				<div class="pricing-card" data-aos="zoom-in">
					<div class="card-header">
						<h3>Loop/Short Animation</h3>
						<span class="price">$600</span>
					</div>
					<div class="card-body">
						<div class="details">
							<p><strong>Loop animation for $600 without sound.</strong></p>
							<p>1-2 second loop $600 per character.</p>
							<p>If you are not sure about anything, you can ask me.</p>
						</div>
					</div>
				</div>
			</div>
		</section>

        <!-- Contact Section -->
        <section class="contact" id="contact">
            <h2>Contact Me!</h2>
            <h1>via Discord (cupofuwu1) or X (Twitter)!</h1>
        </section>
		
		<!-- Social Links -->
        <nav class="social-links">
            <a href="https://www.patreon.com/c/cupofuwu" aria-label="Patreon">
                <img src="icons/patreon.png" alt="Patreon icon" loading="lazy"> Patreon
            </a>
            <a href="https://x.com/CupOfUwU1" aria-label="X">
                <img src="icons/x.png" alt="X icon" loading="lazy"> X
            </a>
            <a href="https://bsky.app/profile/cupofuwu.bsky.social" aria-label="Bluesky">
                <img src="icons/bluesky.png" alt="Bluesky icon" loading="lazy"> Bluesky
            </a>
            <a href="https://cupofuwu.newgrounds.com" aria-label="Newgrounds">
                <img src="icons/newgrounds.png" alt="Newgrounds icon" loading="lazy"> Newgrounds
            </a>
            <a href="https://www.furaffinity.net/user/cupofuwu" aria-label="FurAffinity">
                <img src="icons/furaffinity.png" alt="FurAffinity icon" loading="lazy"> FurAffinity
            </a>
        </nav>
    </div>

    <script>
    
    const tasks = [
            {
                text: "Halloween animation [Done]",
                description: "Finished animation",
                percentage: 100,
                url: "https://www.patreon.com/posts/spooky-with-done-142045020",
                image: "./images/spooky.png"
            },
            {
                text: "WIP Kodii Deepthroat",
                description: "WIP colored animation",
                percentage: 100,
                url: "https://www.patreon.com/posts/wip-kodiis-new-139356564",
                image: "./images/kodii2.png"
            },
            {
                text: "Kodii Deepthroat",
                description: "Liquids animation",
                percentage: 95,
                url: "",
                image: "./images/kodii2.png",
				current: true
            }
        ];
		//current: true
        
        // Projects Data
        const projects = [
            {
                text: "Kodii Deepthroat",
                description: "Commission with hardcore deepthroat",
                percentage: 95,
                url: "https://www.patreon.com/posts/wip-kodiis-new-139356564",
                image: "./images/kodii2.png",
                category: "project"
            },
            {
                text: "Halloween animation [Done]",
                description: "This is catched a ghost-cat that gives blowjob... in reverse!",
                percentage: 100,
                url: "https://www.patreon.com/posts/spooky-with-done-142045020",
                image: "./images/spooky.png"
            },
            {
                text: "Dusk and Mousy [Done]",
                description: "Gift for Tabuley",
                percentage: 100,
                url: "https://www.patreon.com/posts/dusk-and-mousy-129415312",
                image: "./images/dusk_mousy_project.png",
                category: "project"
            },
            {
                text: "Judy Deepthroat",
                description: "Short loop inspired by Doxy's comic Sweet Sting. I thought it would be nice to draw some short loop with Judy and remembered that Doxy has a comic \"Sweet Sting\" and then the idea was born to make animation as a gift for Doxy. UwU",
                percentage: 100,
                url: "https://www.patreon.com/posts/132290460",
                image: "./images/judy.png",
                category: "project"
            },
            {
                text: "A bit of commerce (Service-squirrels)",
                description: "Short animation with service-squirrels for advertising toys for adults. I just want to try to do something commercial.",
                percentage: 100,
                url: "https://www.patreon.com/posts/service-gush2-136965453",
                image: "./images/service_squirrels_gush2.png",
                category: "project"
            },
            {
                text: "Rough Tentacles",
                description: "Commission with very rough tentacles",
                percentage: 100,
                url: "https://www.patreon.com/posts/rough-tentacles-138291375",
                image: "./images/tentacles2.png"
            },
            {
                text: "Rough Deepthroat",
                description: "Commission with rough deepthroat",
                percentage: 100,
                url: "https://www.patreon.com/posts/comm-rough-done-140772482",
                image: "./images/comm_dt.png",
                category: "project"
            }
        ];
    
    
    let isGyroActive = false;
	let initialBeta = 0;
	let initialGamma = 0;
	let isCalibrated = false;


	
	function updateZoomCompensation() {
	  let zoom = window.devicePixelRatio;
	  
	  if (zoom > 1)
		zoom = 1;
	  
	  document.documentElement.style.setProperty('--zoom-compensation', zoom);
	}

	window.addEventListener('resize', updateZoomCompensation);
	window.addEventListener('orientationchange', updateZoomCompensation);
	window.visualViewport?.addEventListener('resize', updateZoomCompensation);

    function isMobileOrTablet() {
        return ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
    }

    function createProgressBar(percentage) {
        return `<div class="progress-bar" data-percentage="${percentage}"><span style="width: ${percentage}%"></span></div>`;
    }

    function getTaskCategory(task, index, tasks) {
        const currentIndex = tasks.findIndex(t => t.current);
        if (task.current) return 'current';
        if (currentIndex === -1) return 'upcoming';
        return index < currentIndex ? 'recent' : 'upcoming';
    }

    function displayItems(data, containerId, section, filter = 'all') {
        const container = document.getElementById(containerId);
        if (!container) {
            console.error(`Element with ID "${containerId}" not found`);
            return;
        }
        container.innerHTML = '';

        let filteredItems = [];
        if (section === 'todo') {
            filteredItems = data.map((item, index) => ({
                ...item,
                category: getTaskCategory(item, index, data)
            }));
            if (filter !== 'all') {
                filteredItems = filteredItems.filter(item => item.category === filter);
            }
        } else {
            filteredItems = data.filter(item => filter === 'all' || item.category === filter);
        }

        filteredItems.forEach((item, index) => {
            const itemDiv = document.createElement('a');
            let classNames = `item ${item.category}`;
            if (item.category === 'recent') {
                const recentCount = filteredItems.filter(i => i.category === 'recent').length;
                const recentIndex = filteredItems.slice(0, index + 1).filter(i => i.category === 'recent').length;
                if (recentIndex === recentCount) classNames += ' recent-1';
                else if (recentIndex === recentCount - 1) classNames += ' recent-2';
            }
            if (item.current) {
                classNames += ' current';
            }
            itemDiv.className = classNames;
            itemDiv.href = item.url;
            itemDiv.setAttribute('data-category', item.category);

            let imageHtml = '';
            if (item.image) {
                imageHtml = `<img src="${item.image}" alt="Preview of ${item.text}" loading="lazy">`;
            } else {
                imageHtml = `<div class="no-preview">No Preview</div>`;
            }

            const titleHtml = `<div class="item-title">${item.text}</div>`;
            const descriptionHtml = `<small>${item.description}</small>`;
            const progressBar = createProgressBar(item.percentage);

            itemDiv.innerHTML = `${imageHtml}${titleHtml}${descriptionHtml}${progressBar}`;
            container.appendChild(itemDiv);
        });
    }

    function setupFilterButtons() {
        const buttonGroups = document.querySelectorAll('.filter-buttons');
        buttonGroups.forEach(group => {
            const section = group.dataset.section;
            const buttons = group.querySelectorAll('button');
            if (buttons.length === 0) {
                console.warn(`No filter buttons found for ${section}`);
                return;
            }
            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    group.querySelector('button.active')?.classList.remove('active');
                    button.classList.add('active');
                    if (section === 'todo') {
                        displayItems(tasks, 'tasks', section, button.dataset.filter);
                    } else {
                        displayItems(projects, 'projects-grid', section, button.dataset.filter);
                    }
                });
            });
        });
    }

    function setupEasterEgg() {
			const profileImg = document.querySelector('.profile-img');
			if (!profileImg) {
				console.warn('Profile image not found');
				return;
			}
			profileImg.addEventListener('click', () => {
				const confetti = document.createElement('div');
				confetti.style.position = 'fixed';
				confetti.style.top = '50%';
				confetti.style.left = '50%';
				confetti.style.pointerEvents = 'none';
				confetti.innerHTML = '✨✨';
				confetti.style.fontSize = '2rem';
				confetti.style.animation = 'confetti 1s ease forwards';
				document.body.appendChild(confetti);
				setTimeout(() => confetti.remove(), 1000);
			});
		}

		function setupParallax() {
			const container = document.querySelector('.parallax-background-container');
			if (!container) {
				console.warn('Parallax background container not found');
				return;
			}

			const midground = document.querySelector('.parallax-midground');
			const foreground = document.querySelector('.parallax-foreground');
			
			document.addEventListener('mousemove', (e) => {
				if (isGyroActive) return; 
				
				const x = e.clientX - window.innerWidth / 2;
				const y = e.clientY - window.innerHeight / 2;
				const maxTilt = 10;
				const maxTranslate = 50;

				const tiltX = (y / window.innerHeight) * maxTilt;
				const tiltY = -(x / window.innerWidth) * maxTilt;
				const translateX = (x / window.innerWidth) * maxTranslate;
				const translateY = (y / window.innerHeight) * maxTranslate;


				midground.style.transform = `translateZ(0px) translate(${translateX * 0.5}px, ${translateY * 0.5}px) rotateX(${tiltX * 0.5}deg) rotateY(${tiltY * 0.5}deg)`;
				foreground.style.transform = `translateZ(0px) translate(${translateX}px, ${translateY}px) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
			});

			document.addEventListener('mouseleave', () => {
				if (isGyroActive) return;

				midground.style.transform = `translateZ(0px)`;
				foreground.style.transform = `translateZ(0px)`;
			});


			if (window.DeviceOrientationEvent) {
				window.addEventListener('deviceorientation', (e) => {
					
					let rawGamma = e.gamma;
					let rawBeta = e.beta;
					let adjustedGamma = 0;
					let adjustedBeta = 0;
					
					const orientationAngle = (window.screen.orientation && window.screen.orientation.angle) || (window.orientation || 0);

					
					if (orientationAngle === 90 || orientationAngle === -90 || orientationAngle === 270) {
						adjustedGamma = rawBeta;
						adjustedBeta = rawGamma;
						
						if (orientationAngle === 90 || orientationAngle === -270) {
							adjustedGamma = -adjustedGamma;
						} else {
							adjustedBeta = -adjustedBeta;
						}

					} else {
						adjustedGamma = rawGamma;
						adjustedBeta = rawBeta;

						if (orientationAngle === 180) {
							adjustedGamma = -adjustedGamma;
							adjustedBeta = -adjustedBeta;
						}
					}
					
					if (!isCalibrated) {
						if (typeof adjustedBeta === 'number' && typeof adjustedGamma === 'number') {
							initialBeta = adjustedBeta;
							initialGamma = adjustedGamma;
							isCalibrated = true;
							isGyroActive = true; 
							return;
						} else {
							return; 
						}
					}

					if (isGyroActive) {
						const beta = adjustedBeta - initialBeta;
						const gamma = adjustedGamma - initialGamma;
						
						const maxTilt = 10;
						const maxTranslate = 50;
						const maxAngle = 45; 

						const clampedGamma = Math.max(-maxAngle, Math.min(maxAngle, gamma || 0));
						const clampedBeta = Math.max(-maxAngle, Math.min(maxAngle, beta || 0));

						const translateX = (clampedGamma / maxAngle) * maxTranslate;
						//const translateY = (-(clampedBeta / maxAngle)) * maxTranslate; 
						const translateY = ((clampedBeta / maxAngle)) * maxTranslate; 
						
						const tiltX = (clampedBeta / maxAngle) * maxTilt;
						const tiltY = (clampedGamma / maxAngle) * maxTilt;


						
						midground.style.transform = `translateZ(0px) translate(${translateX * 0.5}px, ${translateY * 0.5}px) rotateX(${tiltX * 0.5}deg) rotateY(${tiltY * 0.5}deg)`;
						foreground.style.transform = `translateZ(0px) translate(${translateX}px, ${translateY}px) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
					}
				});
			} else {
				console.warn('DeviceOrientationEvent not supported');
			}
		}

    // Request Device Orientation Permission (iOS)
    function requestDeviceOrientationPermission() {
        if (typeof DeviceOrientationEvent.requestPermission === 'function') {
            DeviceOrientationEvent.requestPermission()
                .then(permissionState => {
                    if (permissionState === 'granted') {
                        console.log('Device orientation permission granted');
                    } else {
                        console.warn('Device orientation permission denied');
                    }
                })
                .catch(console.error);
        }
    }

    // Initialize
    function init() {
        displayItems(tasks, 'tasks', 'todo');
        displayItems(projects, 'projects-grid', 'projects');
        setupFilterButtons();
        setupEasterEgg();
        setupParallax();
		updateZoomCompensation();

        // Show permission button on iOS
        const permissionButton = document.querySelector('.orientation-permission');
        if (typeof DeviceOrientationEvent.requestPermission === 'function') {
            permissionButton.style.display = 'block';
            permissionButton.addEventListener('click', requestDeviceOrientationPermission);
        }

        // Add confetti keyframes
        const styleSheet = document.createElement('style');
        styleSheet.innerHTML = `
            @keyframes confetti {
                0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                100% { transform: translate(-50%, -100%) scale(2); opacity: 0; }
            }
        `;
        document.head.appendChild(styleSheet);
    }

    // Run initialization
    document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>